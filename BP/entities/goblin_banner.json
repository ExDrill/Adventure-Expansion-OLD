{
	"format_version": "1.17.0",
	"minecraft:entity": {
		"description": {
			"identifier": "exdrill:goblin_banner",
			"is_spawnable": true,
			"is_summonable": true,
			"animations": {
				"wave_controller": "controller.animation.wave_controller"
			},
			"scripts": {
				"animate": [
					"wave_controller"
				]
			}
		},
		"component_groups": {
			"configuration": {
				"minecraft:interact": {
					"interactions": [
						{
							"swing": true,
							"interact_text": "action.interact.activate",
							"on_interact": {
								"event": "normal_mode",
								"filters": {
									"test": "has_equipment",
									"subject": "other",
									"domain": "hand",
									"operator": "not",
									"value": "exdrill:totem_of_enraging"
								}
							}
						},
						{
							"use_item": true,
							"swing": true,
							"interact_text": "action.interact.hard_mode_active",
							"on_interact": {
								"event": "hard_mode",
								"filters": {
									"test": "has_equipment",
									"subject": "other",
									"domain": "hand",
									"operator": "equals",
									"value": "exdrill:totem_of_enraging"
								}
							}
						}
					]
				}
			},
			"normal_mode": {
				"minecraft:variant": {
					"value": 0
				}
			},
			"hard_mode": {
				"minecraft:variant": {
					"value": 1
				}
			},
			// Normal Mode Waves
			"wave_1": {
				"minecraft:spawn_entity": {
					"entities": [
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 2,
							"spawn_entity": "exdrill:goblin_warrior",
							"spawn_event": "spawn_for_raid"
						},
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 2,
							"spawn_entity": "exdrill:goblin_ranger",
							"spawn_event": "spawn_for_raid"
						},
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 2,
							"spawn_entity": "exdrill:goblin_grunt",
							"spawn_event": "spawn_for_raid"
						}
					]
				}
			},
			"wave_2": {
				"minecraft:spawn_entity": {
					"entities": [
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 3,
							"spawn_entity": "exdrill:goblin_warrior",
							"spawn_event": "spawn_for_raid"
						},
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 3,
							"spawn_entity": "exdrill:goblin_ranger",
							"spawn_event": "spawn_for_raid"
						},
						{
							"single_use": true,
							"min_wait_time": 5,
							"max_wait_time": 5,
							"num_to_spawn": 2,
							"spawn_entity": "exdrill:goblin_grunt",
							"spawn_event": "spawn_for_raid"
						}
					]
				}
			},
			"wave_3": {},
			"wave_4": {},
			"wave_5": {},
			"wave_6": {},
			"wave_7": {},
			// Hard Mode Waves
			"wave_8": {},
			"wave_9": {},
			"wave_10": {}
		},
		"components": {
			"minecraft:physics": {},
			"minecraft:health": {
				"value": 999,
				"max": 999
			},
			"minecraft:timer": {},
			"minecraft:damage_sensor": {
				"triggers": [
					{
						"cause": "all",
						"deals_damage": false
					}
				]
			}
		},
		"events": {
			"minecraft:entity_spawned": {
				"add": {
					"component_groups": [
						"configuration"
					]
				},
				"run_command": {
					"command": [
						"scoreboard objectives add KillCount dummy",
						"scoreboard players set @s KillCount 0"
					]
				}
			},
			"normal_mode": {
				"add": {
					"component_groups": [
						"normal_mode"
					]
				},
				"trigger": "wave_1",
				"remove": {
					"component_groups": [
						"configuration"
					]
				}
			},
			"hard_mode": {
				"add": {
					"component_groups": [
						"hard_mode"
					]
				},
				"trigger": "wave_1",
				"remove": {
					"component_groups": [
						"configuration"
					]
				}
			},
			"wave_1": {
				"add": {
					"component_groups": [
						"wave_1"
					]
				},
				"run_command": {
					"command": [
						"title @a[r=25] actionbar Wave 1!"
					]
				}
			},
			"wave_2": {
				"add": {
					"component_groups": [
						"wave_2"
					]
				},
				"run_command": {
					"command": [
						"title @a[r=25] actionbar Wave 2!"
					]
				}
			},
			"wave_3": {
				"add": {
					"component_groups": [
						"wave_3"
					]
				},
				"run_command": {
					"command": [
						"title @a[r=25] actionbar Wave 3!"
					]
				}
			},
			"wave_4": {},
			"wave_5": {},
			"wave_6": {},
			"wave_7": {},
			"wave_8": {},
			"wave_9": {},
			"wave_10": {}
		}
	}
}